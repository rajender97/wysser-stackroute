<div class="container">
    <div class="col-md-12">
        <h1>Vehicle List</h1>

        <!-- <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>


        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>


            <ng-container matColumnDef="vehicleNumber">
                <th mat-header-cell *matHeaderCellDef> Vehicle Number </th>
                <td mat-cell *matCellDef="let element"> {{element.vehicleNumber}} </td>
            </ng-container>


            <ng-container matColumnDef="driverName">
                <th mat-header-cell *matHeaderCellDef> Driver Name </th>
                <td mat-cell *matCellDef="let element"> {{element.driverName}} </td>
            </ng-container>


            <ng-container matColumnDef="vehicleType">
                <th mat-header-cell *matHeaderCellDef> Vehicle Type </th>
                <td mat-cell *matCellDef="let element"> {{element.vehicleType}} </td>
            </ng-container>

            <ng-container matColumnDef="capacity">
                <th mat-header-cell *matHeaderCellDef> Capacity(lit) </th>
                <td mat-cell *matCellDef="let element"> {{element.capacity}} </td>
            </ng-container>

            <ng-container matColumnDef="costPerSlot">
                <th mat-header-cell *matHeaderCellDef> Cost Per Slot(Rs) </th>
                <td mat-cell *matCellDef="let element"> {{element.costPerSlot}} </td>
            </ng-container>

            <ng-container matColumnDef="vehicleStatus">
                <th mat-header-cell *matHeaderCellDef> Vehicle Status </th>
                <td mat-cell *matCellDef="let element"> {{element.vehicleStatus}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

 -->



        <input class="form-control" type="text" placeholder="Search" aria-label="Search" [(ngModel)]="searchTerm" style="width: 30%;">

        <table class="table table-bordered table-striped table-hover">
            <thead>
                <tr>
                    <th class="text-center">ID</th>
                    <th class="text-center">Date</th>
                    <th class="text-center">Slot</th>
                    <th class="text-center">Vehicle Number</th>
                    <th class="text-center">Driver Name</th>
                    <th class="text-center">Vehicle Type</th>
                    <th class="text-center">Capacity(lit)</th>
                    <th class="text-center">Cost Per Slot(Rs)</th>
                    <th class="text-center">Vehicle Status</th>
                    <th class="text-center">&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let vehicle of filteredData">
                    <td>{{ vehicle.id }}</td>
                    <td>{{vehicle.date}}</td>
                    <td>{{vehicle.slot}}</td>
                    <td>{{ vehicle.vehicleNumber }}</td>
                    <td>{{ vehicle.driverName }}</td>
                    <td>{{ vehicle.vehicleType }}</td>
                    <td>{{ vehicle.capacity }}</td>
                    <td>{{ vehicle.costPerSlot }}</td>
                    <td>{{ vehicle.vehicleStatus }}</td>

                    <td>
                        <button class="btn btn-info mr-2" (click)="showEditVehicleForm(vehicle)">
                            <i class="fa fa-edit"></i>
                        </button>
                        <button class="btn btn-danger" (click)="removeVehicle(vehicle)">
                            <i class="fa fa-minus"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <button class="btn btn-success" (click)="showAddVehicleForm()"><i class="fa fa-plus"></i></button>
        <br />
        <br />


        <form *ngIf="vehicleForm" style="width: 50%" class="ml-auto mr-auto" onsubmit="return false">
            <h2>Add New Vehicle</h2>
            <div class="form-group">
                <!-- <form onsubmit="return false;"> -->

                <label class="form-label" for="">Enter Vehicle ID:</label>
                <input type="number" placeholder="integer value" name="id" id="id" [(ngModel)]="newVehicle.id" class="form-control" />

                <label class="form-label" for="">Enter Date:</label>
                <!-- <input type="text" name="date" id="date" [(ngModel)]="newVehicle.date" class="form-control" /> -->

                <mat-form-field>
                    <input matInput [matDatepicker]="picker" placeholder="Pick a Date" name="date" id="date" [(ngModel)]="newVehicle.date" maxlength="10" class="form-control">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <!-- <p>You selected {{date}}</p> -->

                <br>
                <label class="form-label" for="">Enter Slot:</label>
                <!-- <input type="text" name="vehicleStatus" id="vehicleStatus" [(ngModel)]="newVehicle.vehicleStatus" class="form-control" /> -->
                <select name="slot" id="slot" [(ngModel)]="newVehicle.slot" class="form-control">
                    <option value="slot1">slot1</option>
                    <option value="slot2">slot2</option>
                    <option value="slot3">slot3</option>
                    <!-- <option value="broken">Broken</option> -->
                </select>

                <label class="form-label" for="">Enter Vehicle Number:</label>
                <input type="text" name="vehicleNumber" id="vehicleNumber" [(ngModel)]="newVehicle.vehicleNumber" class="form-control" />
                <label class="form-label" for="">Enter Driver Name:</label>
                <input type="text" name="driverName" id="driverName" [(ngModel)]="newVehicle.driverName" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Type:</label>
                <input type="text" name="vehicleType" id="vehicleType" [(ngModel)]="newVehicle.vehicleType" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Capacity:</label>
                <input type="number" placeholder="integer value in lit" name="capacity" id="capacity" [(ngModel)]="newVehicle.capacity" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Cost Per Slot:</label>
                <input type="number" placeholder="integer value in Rs" name="costPerSlot" id="costPerSlot" [(ngModel)]="newVehicle.costPerSlot" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Status:</label>
                <!-- <input type="text" name="vehicleStatus" id="vehicleStatus" [(ngModel)]="newVehicle.vehicleStatus" class="form-control" /> -->
                <select name="vehicleStatus" id="vehicleStatus" [(ngModel)]="newVehicle.vehicleStatus" class="form-control">
                    <option value="Available">Available</option>
                    <option selected value="Busy">Busy</option>
                    <!-- <option value="broken">Broken</option> -->
                </select>
                <!-- </form> -->

            </div>


            <!-- <p>Driver Name: <input type="text" name="driverName" [(ngModel)]="newVehicle.driverName" /></p>
            <p>Vehicle Type: <input type="text" name="vehicleType" [(ngModel)]="newVehicle.vehicleType" /></p>
            <p>Capacity(lit): <input type="text" name="capacity" [(ngModel)]="newVehicle.capacity" /></p>
            <p>Cost Per Slot(Rs): <input type="text" name="costPerSlot" [(ngModel)]="newVehicle.costPerSlot" /></p>
            <p>Vehicle Status: <input type="text" placeholder="Free / Busy" name="vehicleStatus" [(ngModel)]="newVehicle.vehicleStatus" /></p> -->

            <p>
                <button type="submit" class="btn btn-primary mr-2" (click)="saveVehicle(newVehicle)">Submit</button>
                <button type="button" class="btn btn-warning" (click)="cancelNewVehicle()">Cancel</button>
            </p>
        </form>

        <form *ngIf="editVehicleForm" style="width: 50%" class="ml-auto mr-auto">
            <h2>Edit Vehicle Details</h2>

            <div class="form-group">


                <label class="form-label" for="">Enter Vehicle ID:</label>
                <input type="number" placeholder="integer value" name="id" id="id" [(ngModel)]="editedVehicle.id" class="form-control" />

                <label class="form-label" for="">Enter Date:</label>
                <!-- <input type="text" name="date" id="date" [(ngModel)]="newVehicle.date" class="form-control" /> -->

                <mat-form-field>
                    <input matInput [matDatepicker]="picker3" placeholder="Pick a Date" name="date" id="date" [(ngModel)]="editedVehicle.date" maxlength="10" class="form-control">
                    <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                    <mat-datepicker #picker3></mat-datepicker>
                </mat-form-field>
                <!-- <p>You selected {{date}}</p> -->
                <br>

                <label class="form-label" for="">Enter Slot:</label>
                <!-- <input type="text" name="vehicleStatus" id="vehicleStatus" [(ngModel)]="newVehicle.vehicleStatus" class="form-control" /> -->
                <select name="slot" id="slot" [(ngModel)]="editedVehicle.slot" class="form-control">
                    <option value="slot1">slot1</option>
                    <option value="slot2">slot2</option>
                    <option value="slot3">slot3</option>
                    <!-- <option value="broken">Broken</option> -->
                </select>

                <label class="form-label" for="">Enter Vehicle Number:</label>
                <input type="text" name="vehicleNumber" id="vehicleNumber" [(ngModel)]="editedVehicle.vehicleNumber" class="form-control" />
                <label class="form-label" for="">Enter Driver Name:</label>
                <input type="text" name="driverName" id="driverName" [(ngModel)]="editedVehicle.driverName" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Type:</label>
                <input type="text" name="vehicleType" id="vehicleType" [(ngModel)]="editedVehicle.vehicleType" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Capacity:</label>
                <input type="number" placeholder="integer value" name="capacity" id="capacity" [(ngModel)]="editedVehicle.capacity" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Cost Per Slot:</label>
                <input type="number" placeholder="integer value" name="costPerSlot" id="costPerSlot" [(ngModel)]="editedVehicle.costPerSlot" class="form-control" />

                <label class="form-label" for="">Enter Vehicle Status:</label>
                <!-- <input type="text" name="vehicleStatus" id="vehicleStatus" [(ngModel)]="newVehicle.vehicleStatus" class="form-control" /> -->
                <select name="vehicleStatus" id="vehicleStatus" [(ngModel)]="editedVehicle.vehicleStatus" class="form-control">
                    <option value="Available">Available</option>
                    <option value="Busy">Busy</option>
                    <!-- <option value="broken">Broken</option> -->
                </select>

            </div>


            <!-- <p>Vehicle Number: <input type="text" name="vehicleNumber" [(ngModel)]="editedVehicle.vehicleNumber" /></p>
            <p>Driver Name: <input type="text" name="driverName" [(ngModel)]="editedVehicle.driverName" /></p>
            <p>Vehicle Type: <input type="text" name="vehicleType" [(ngModel)]="editedVehicle.vehicleType" /></p>
            <p>Capacity(lit): <input type="text" name="capacity" [(ngModel)]="editedVehicle.capacity" /></p>
            <p>Cost Per Slot(Rs): <input type="text" name="costPerSlot" [(ngModel)]="editedVehicle.costPerSlot" /></p>
            <p>Vehicle Status: <input type="text" name="vehicleStatus" [(ngModel)]="editedVehicle.vehicleStatus" /></p>
            -->
            <p>
                <button type="button" class="btn btn-primary mr-2" (click)="updateVehicle(editedVehicle)">Submit</button>
                <button type="button" class="btn btn-warning" (click)="cancelEdits()">Cancel</button>
            </p>
        </form>


        <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator> -->

    </div>

</div>